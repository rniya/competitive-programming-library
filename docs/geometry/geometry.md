## 概要
2 次元幾何ライブラリ. 主に ICPC 用.

点, 直線, 線分, 円, 及び多角形を扱う構造体 `Point, Line, Segment, Circle, Polygon` がある. 直線はその上の相異なる 2 点で, 線分は両端点で表現される.

関数が多すぎるので整理.

| 関数                                    | 効果                                                                                                                                                           | 時間計算量       |
| --------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------- |
| `Point(x, y)`                           | 座標をセットして初期化する.                                                                                                                                    | $O(1)$           |
| `Point::norm()`                         | $x^2 + y^2$ を返す.                                                                                                                                            | $O(1)$           |
| `Point::abs()`                          | 原点からの距離 $\sqrt{x^2 + y^2}$ を返す.                                                                                                                      | $O(1)$           |
| `Point::arg()`                          | ベクトルとみなした際の偏角を返す.                                                                                                                              | $O(1)$           |
| `Point::normal()`                       | ベクトルとみなした際の法線ベクトルを返す.                                                                                                                      | $O(1)$           |
| `Point::unit()`                         | ベクトルとみなした際の正規化されたベクトルを返す.                                                                                                              | $O(1)$           |
| `Point::rotate(theta)`                  | 原点中心に $\theta$ 回転させた後の点を返す.                                                                                                                    | $O(1)$           |
| `polar(r, theta)`                       | 極座標系での点 $(r, \theta)$ を直交座標に変換して返す.                                                                                                         | $O(1)$           |
| `dot(p, q)`                             | 2 つのベクトルの内積を返す.                                                                                                                                    | $O(1)$           |
| `cross(p, q)`                           | 2 つのベクトルの外積を返す.                                                                                                                                    | $O(1)$           |
| `distance(p, q)`                        | 2 点 $a, b$ 間の距離を返す.                                                                                                                                    | $O(1)$           |
| `Line(a, b)`                            | 点 $a$ 及び $b$ をその上にもつ直線として初期化する.                                                                                                            | $O(1)$           |
| `Line(A, B, C)`                         | 直線 $Ax + By = C$ として初期化する.                                                                                                                           | $O(1)$           |
| `Line::diff()`                          | $b - a$ を返す.                                                                                                                                                | $O(1)$           |
| `proj(l, p)`                            | 点 $p$ を直線 $l$ に正射影してできる点を返す.                                                                                                                  | $O(1)$           |
| `refl(l, p)`                            | 点 $p$ と直線 $l$ について対称な点を返す.                                                                                                                      | $O(1)$           |
| `orthogonal(l, m)`                      | 2 直線が直行するかどうか判定する.                                                                                                                              | $O(1)$           |
| `parallel(l, m)`                        | 2 直線が平行かどうか判定する.                                                                                                                                  | $O(1)$           |
| `ccw(a, b, c)`                          | $a \to b \to c$ と移動する際の移動方向を分類する.                                                                                                              | $O(1)$           |
| `intersect(l, p)`                       | 点 $p$ が直線 $l$ 上にあるかどうか判定する.                                                                                                                    | $O(1)$           |
| `intersect(l, m)`                       | 2 直線 $l, m$ が交点をもつか判定する.                                                                                                                          | $O(1)$           |
| `intersect(l, s)`                       | 直線 $l$ と線分 $s$ が交点をもつか判定する.                                                                                                                    | $O(1)$           |
| `intersect(s, p)`                       | 点 $p$ が線分 $s$ 上にあるかどうか判定する.                                                                                                                    | $O(1)$           |
| `intersect(s, t)`                       | 2 線分 $s, t$ が交点をもつか判定する.                                                                                                                          | $O(1)$           |
| `distance(l, p)`                        | 点 $p$ が直線 $l$ の間の距離を返す.                                                                                                                            | $O(1)$           |
| `distance(l, m)`                        | 2 直線 $l, m$ の間の距離を返す.                                                                                                                                | $O(1)$           |
| `distance(l, s)`                        | 直線 $l$ と線分 $s$ の間の距離を返す.                                                                                                                          | $O(1)$           |
| `distance(s, p)`                        | 点 $p$ が線分 $s$ の間の距離を返す.                                                                                                                            | $O(1)$           |
| `distance(s, t)`                        | 2 線分 $s, t$ の間の距離を返す.                                                                                                                                | $O(1)$           |
| `crosspoint(l, m)`                      | 2 直線 $l$ と $m$ の交点を返す.                                                                                                                                | $O(1)$           |
| `Circle(center, radius)`                | 中心 $center$ , 半径 $radius$ の円として初期化する.                                                                                                            | $O(1)$           |
| `intersect(c, l)`                       | 円 $c$ と直線 $l$ が交点をもつか判定する.                                                                                                                      | $O(1)$           |
| `intersect(c, s)`                       | 円 $c$ と線分 $s$ の交点の個数を返す.                                                                                                                          | $O(1)$           |
| `crosspoint(c, l)`                      | 円 $c$ と直線 $l$ の交点を全て求める.                                                                                                                          | $O(1)$           |
| `crosspoint(c, s)`                      | 円 $c$ と線分 $s$ の交点を全て求める.                                                                                                                          | $O(1)$           |
| `crosspoint(c1, c2)`                    | 2 円 $c1, c2$ の交点を全て求める.                                                                                                                              | $O(1)$           |
| `commonarea(c1, c2)`                    | 2 円 $c1, c2$ の共通部分の面積を求める.                                                                                                                        | $O(1)$           |
| `bisector(p, q)`                        | 2 点 $p, q$ の垂直二等分線を返す.                                                                                                                              | $O(1)$           |
| `circumcircle(a, b, c)`                 | 3 点 $a, b, c$ を頂点とする三角形の外接円を返す.                                                                                                               | $O(1)$           |
| `incircle(a, b, c)`                     | 3 点 $a, b, c$ を頂点とする三角形の内接円を返す.                                                                                                               | $O(1)$           |
| `center_given_radius(a, b, r)`          | 2 点 $a, b$ を通る半径 $r$ の円の中心の候補を全て求める.                                                                                                       | $O(1)$           |
| `count_tangent(c1, c2)`                 | 2 円 $c1, c2$ の共通接線の本数を返す.                                                                                                                          | $O(1)$           |
| `tangent_to_circle(c, p)`               | 点 $p$ から円 $c$ に引いた接線の接点を全て求める.                                                                                                              | $O(1)$           |
| `common_tangent(c1, c2)`                | 2 円 $c1, c2$ の共通接線を返す.                                                                                                                                | $O(1)$           |
| `Polygon(n)`                            | $n$ 頂点の多角形として初期化する. `std::vector` を継承しているので同じように扱って問題ない (はず) .                                                            | $O(n)$           |
| `Polygon::segments()`                   | 多角形の隣接頂点同士を結ぶ線分集合を返す.                                                                                                                      | $O(n)$           |
| `Polygon::area()`                       | 多角形の面積を返す.                                                                                                                                            | $O(n)$           |
| `Polygon::is_convex(accept_on_segment)` | 多角形が凸かどうか判定する.                                                                                                                                    | $O(n)$           |
| `contain(P, p)`                         | 多角形 $P$ が点 $p$ を含むか判定する.                                                                                                                          | $O(n)$           |
| `contain(c, p)`                         | 円 $c$ が点 $p$ を含むか判定する.                                                                                                                              | $O(1)$           |
| `convex_hull(P, accept_on_segment)`     | 点集合 $P$ から凸包を構成する.                                                                                                                                 | $O(n \log n)$    |
| `convex_diameter(convex)`               | 凸多角形 $convex$ の直径とその両端点を返す (最遠点対) .                                                                                                        | $O(n)$           |
| `convex_cut(convex, l)`                 | 凸多角形 $convex$ を直線 $l$ で切断した際に左側にできる (厳密には $l$ を構成する 2 点 $a, b$ について,  $a$ から $b$ に進む際に左側にある方) 凸多角形を求める. | $O(n)$           |
| `voronoi(P, ps, idx)`                   | 多角形 $P$ 内を点集合 $ps$ による voronoi 図で分割した際の 点  $ps_i$ の支配する領域を求める.                                                                  | $O(\|P\|\|ps\|)$ |
| `commonarea(c, P)`                      | 円 $c$ と多角形 $P$ の共通部分の面積を求める.                                                                                                                  | $O(n)$           |
| `closest_pair(ps)`                      | 点集合 $ps$ 内の相異なる 2 点間の距離の最小値を求める (最近点対) .                                                                                             | $O(n \log n)$    |

## TODO
- 凸多角形に対する点の包含関係の $O(\log n)$ での判定
- 線分の重複除去
- 最小包含円